<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Loom GraphQL PoC</title>
</head>
<body>
  <h1>Loom GraphQL PoC</h1>
  <p>打开控制台查看返回的数据（无需登录）。</p>
  <script>
    const payload = {
      operationName: "AtlassianLocaleResponse",
      variables: {},
      query:
        "query AtlassianLocaleResponse {\n" +
        "  atlassianLocaleResponse {\n" +
        "    ... on GetAtlassianLocalePayload {\n" +
        "      localeRequiresMarketingOptIn\n" +
        "      locale\n" +
        "      __typename\n" +
        "    }\n" +
        "    __typename\n" +
        "  }\n" +
        "}"
    };

    fetch("https://www.loom.com/graphql", {
      method: "POST",
      mode: "cors",
      headers: {
        "Content-Type": "application/json"
      },
      body: JSON.stringify(payload)
    })
    .then(response => response.json())
    .then(data => {
      console.log("✅ PoC fetched:", data);
      const pre = document.createElement("pre");
      pre.textContent = JSON.stringify(data, null, 2);
      document.body.appendChild(pre);
    })
    .catch(err => {
      console.error("❌ PoC fetch failed:", err);
    });
  </script>
</body>
</html>
